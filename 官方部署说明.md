# ğŸ“– Lilishop å®˜æ–¹å‰ç«¯éƒ¨ç½²è¯´æ˜

æ ¹æ®å®˜æ–¹æ–‡æ¡£ https://docs.pickmall.cn/deply/deply.html

## ğŸ” å®˜æ–¹æ¨èçš„æ„å»ºæ–¹å¼

### å‰ç«¯æ„å»ºå‘½ä»¤

å®˜æ–¹æ–‡æ¡£ä¸­çš„å‰ç«¯æ„å»ºè„šæœ¬ï¼š

```bash
cd ${code_path}/manager
yarn install
yarn build

cd ${code_path}/seller
yarn install
yarn build

cd ${code_path}/buyer
yarn install
yarn build
```

### ğŸ”‘ å…³é”®å‘ç°

**å®˜æ–¹ä½¿ç”¨çš„æ˜¯ `yarn` è€Œä¸æ˜¯ `npm`ï¼**

- ä½¿ç”¨ `yarn install` å®‰è£…ä¾èµ–
- ä½¿ç”¨ `yarn build` è¿›è¡Œæ„å»º
- Node ç‰ˆæœ¬è¦æ±‚ï¼šv14.16.0

---

## âš ï¸ æˆ‘ä»¬çš„é—®é¢˜

æˆ‘ä»¬åœ¨ Cloudflare Pages ä½¿ç”¨ `npm` å¯¼è‡´ä¾èµ–å†²çªã€‚

### è§£å†³æ–¹æ¡ˆé€‰é¡¹

#### é€‰é¡¹ 1ï¼šæ”¹ç”¨ Yarnï¼ˆæ¨èï¼‰

åœ¨ Cloudflare Pages é…ç½®ï¼š

```
Build command: yarn install && yarn build
Build output directory: dist
```

ç¯å¢ƒå˜é‡ï¼š
```
NODE_VERSION = 14.16.0
YARN_VERSION = 1.22.19
```

#### é€‰é¡¹ 2ï¼šç»§ç»­ä½¿ç”¨ npm + .npmrc

ä¿æŒç°æœ‰é…ç½®ï¼ˆå·²æ·»åŠ  .npmrc æ–‡ä»¶ï¼‰

---

## ğŸ’¡ å»ºè®®

æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬åº”è¯¥ï¼š

1. **æ”¹ç”¨ Yarn** è¿›è¡Œæ„å»º
2. **Node ç‰ˆæœ¬é™åˆ° 14.16.0**ï¼ˆå®˜æ–¹æ¨èï¼‰
3. ä¸éœ€è¦ `--legacy-peer-deps`ï¼ŒYarn å¤„ç†ä¾èµ–å†²çªæ›´å¥½

---

## ğŸ¯ æ–°çš„ Cloudflare Pages é…ç½®

### Manager / Seller / Buyer ç»Ÿä¸€é…ç½®

```
Framework preset: Vue
Root directory: manager (æˆ– seller / buyer)
Build command: yarn && yarn build
Build output directory: dist
```

### ç¯å¢ƒå˜é‡

```
NODE_VERSION = 14.16.0
```

ä¸éœ€è¦ `NODE_OPTIONS` ç¯å¢ƒå˜é‡ï¼

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. Cloudflare Pages é»˜è®¤æ”¯æŒ Yarn
2. Node 14 æ¯” Node 18 æ›´ç¨³å®šï¼ˆå¯¹äºæ—§é¡¹ç›®ï¼‰
3. Yarn çš„ä¾èµ–è§£ææ¯” npm æ›´å®½æ¾

---

**å»ºè®®ï¼šä½¿ç”¨ Yarn + Node 14 é‡æ–°éƒ¨ç½²ï¼**
