# ğŸ‰ å–µä¹å•†åŸå‰ç«¯éƒ¨ç½²æˆåŠŸï¼

## âœ… éƒ¨ç½²çŠ¶æ€

æ‰€æœ‰ä¸‰ä¸ªå‰ç«¯é¡¹ç›®å·²æˆåŠŸéƒ¨ç½²åˆ° Cloudflare Pagesï¼

| é¡¹ç›® | çŠ¶æ€ | è®¿é—®åœ°å€ |
|------|------|----------|
| Manager (ç®¡ç†ç«¯) | âœ… æˆåŠŸ | https://maollar-manager.pages.dev |
| Seller (å•†å®¶ç«¯) | âœ… æˆåŠŸ | https://maollar-seller.pages.dev |
| Buyer (ä¹°å®¶ç«¯) | âœ… æˆåŠŸ | https://maollar-buyer.pages.dev |

---

## ğŸ”§ æœ€ç»ˆå·¥ä½œé…ç½®

### Cloudflare Pages æ„å»ºé…ç½®

**Build Settings:**
```
Framework preset: None
Branch: main
Build command: npm install -g yarn && yarn && yarn build
Build output directory: dist
```

**Root Directory:**
- Manager: `manager`
- Seller: `seller`
- Buyer: `buyer`

**Environment Variables:**
```
NODE_VERSION = 14.21.3
NODE_OPTIONS = --max-old-space-size=2048
```

---

## ğŸ“Š éƒ¨ç½²è¿‡ç¨‹å›é¡¾

### é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

1. **é—®é¢˜ï¼šä¾èµ–ç‰ˆæœ¬å†²çª**
   - åŸå› ï¼šnpm ä¸ swiper ä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹
   - è§£å†³ï¼šæ”¹ç”¨ yarn æ„å»º

2. **é—®é¢˜ï¼šYarn å‘½ä»¤æœªæ‰¾åˆ°**
   - åŸå› ï¼šCloudflare ç¯å¢ƒé»˜è®¤æ²¡æœ‰ yarn
   - è§£å†³ï¼šåœ¨æ„å»ºå‘½ä»¤ä¸­å…ˆå®‰è£… yarn (`npm install -g yarn`)

3. **é—®é¢˜ï¼šNode ç‰ˆæœ¬è¿‡æ—§**
   - åŸå› ï¼šNode 14.16.0 ä¸æ»¡è¶³ readdirp åŒ…è¦æ±‚
   - è§£å†³ï¼šå‡çº§åˆ° Node 14.21.3

4. **é—®é¢˜ï¼šå†…å­˜ä¸è¶³ (Error code 9)**
   - åŸå› ï¼šVue é¡¹ç›®æ„å»ºéœ€è¦å¤§é‡å†…å­˜
   - è§£å†³ï¼šè®¾ç½® `NODE_OPTIONS = --max-old-space-size=2048`

5. **é—®é¢˜ï¼špackage-lock.json å¯¼è‡´é”™è¯¯**
   - åŸå› ï¼šnpm ci å‘½ä»¤æ— æ³•å¤„ç†æŸåçš„ lock æ–‡ä»¶
   - è§£å†³ï¼šåˆ é™¤ .npmrc å’Œ package-lock.json

6. **é—®é¢˜ï¼šyarn.lock ç‰ˆæœ¬å†²çª**
   - åŸå› ï¼šæ£€æµ‹åˆ° yarn 4.xï¼Œä¸ Node 14 ä¸å…¼å®¹
   - è§£å†³ï¼šåˆ é™¤ yarn.lockï¼Œè®© yarn 1.x é‡æ–°ç”Ÿæˆ

---

## ğŸš€ CI/CD å·¥ä½œæµç¨‹

ç°åœ¨ä½ æœ‰äº†å®Œæ•´çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ï¼š

1. **æœ¬åœ°å¼€å‘**
   ```bash
   cd manager  # æˆ– seller / buyer
   yarn install
   yarn serve  # æœ¬åœ°å¼€å‘
   ```

2. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "ä½ çš„æäº¤ä¿¡æ¯"
   git push origin main
   ```

3. **è‡ªåŠ¨éƒ¨ç½²**
   - Cloudflare Pages è‡ªåŠ¨æ£€æµ‹åˆ°æ¨é€
   - è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²
   - çº¦ 8-12 åˆ†é’Ÿåä¸Šçº¿

---

## ğŸ“ ä¸‹ä¸€æ­¥å·¥ä½œ

### å‰ç«¯ç›¸å…³

- [ ] é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰
- [ ] é…ç½®åç«¯ API åœ°å€ç¯å¢ƒå˜é‡
- [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½é¡µé¢
- [ ] é…ç½® Preview éƒ¨ç½²ï¼ˆåˆ†æ”¯é¢„è§ˆï¼‰

### åç«¯éƒ¨ç½²

- [ ] å®Œæˆ Oracle Cloud è´¦æˆ·è®¾ç½®
- [ ] éƒ¨ç½²åç«¯æœåŠ¡
- [ ] é…ç½®æ•°æ®åº“
- [ ] è¿æ¥å‰åç«¯

---

## ğŸ”— é‡è¦é“¾æ¥

### Cloudflare Pages æ§åˆ¶å°
```
https://dash.cloudflare.com
```

### GitHub ä»“åº“
```
https://github.com/mdmoto/maollar-ui
```

### æ–‡æ¡£ä½ç½®
- æœ¬åœ°è·¯å¾„: `/Users/adam/maollar-project/frontend/`
- å®˜æ–¹æ–‡æ¡£: `https://docs.pickmall.cn/`

---

## ğŸ’¡ ç»´æŠ¤å»ºè®®

### æ›´æ–°å‰ç«¯ä»£ç 

1. åœ¨æœ¬åœ°ä¿®æ”¹ä»£ç 
2. æœ¬åœ°æµ‹è¯• (`yarn serve`)
3. æäº¤å¹¶æ¨é€åˆ° GitHub
4. Cloudflare è‡ªåŠ¨éƒ¨ç½²

### æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

1. è¿›å…¥ Cloudflare Pages é¡¹ç›®
2. ç‚¹å‡» Deployments
3. æŸ¥çœ‹æ„å»ºæ—¥å¿—

### å›æ»šéƒ¨ç½²

1. è¿›å…¥ Deployments é¡µé¢
2. æ‰¾åˆ°ä¹‹å‰æˆåŠŸçš„éƒ¨ç½²
3. ç‚¹å‡» "..." â†’ "Rollback to this deployment"

---

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼ˆåç»­ï¼‰

1. **é…ç½®è‡ªå®šä¹‰åŸŸå**
   - æå‡å“ç‰Œå½¢è±¡
   - æ›´å¥½çš„ SEO

2. **å¯ç”¨ Cloudflare Analytics**
   - ç›‘æ§è®¿é—®é‡
   - åˆ†æç”¨æˆ·è¡Œä¸º

3. **é…ç½®ç¼“å­˜ç­–ç•¥**
   - æå‡åŠ è½½é€Ÿåº¦
   - å‡å°‘å¸¦å®½æ¶ˆè€—

4. **è®¾ç½® Preview éƒ¨ç½²**
   - ä¸º PR åˆ›å»ºé¢„è§ˆç¯å¢ƒ
   - æ–¹ä¾¿æµ‹è¯•æ–°åŠŸèƒ½

---

## ğŸ™ æ„Ÿè°¢

ç»è¿‡å¤šæ¬¡å°è¯•å’Œè°ƒè¯•ï¼Œç»ˆäºæˆåŠŸéƒ¨ç½²ï¼

**å…³é”®æˆåŠŸå› ç´ ï¼š**
- âœ… å‚è€ƒå®˜æ–¹æ–‡æ¡£ä½¿ç”¨ Yarn
- âœ… æ­£ç¡®çš„ Node ç‰ˆæœ¬ (14.21.3)
- âœ… è¶³å¤Ÿçš„å†…å­˜åˆ†é… (2GB)
- âœ… æ¸…ç†å†²çªçš„é…ç½®æ–‡ä»¶

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ Cloudflare æ„å»ºæ—¥å¿—
2. æ£€æŸ¥ GitHub Actionsï¼ˆå¦‚æœé…ç½®äº†ï¼‰
3. å‚è€ƒæœ¬åœ°æ„å»ºè„šæœ¬
4. æŸ¥é˜…å®˜æ–¹æ–‡æ¡£

---

**éƒ¨ç½²æ—¶é—´**: 2025-10-13
**æ€»è€—æ—¶**: çº¦ 2 å°æ—¶ï¼ˆåŒ…å«è°ƒè¯•ï¼‰
**çŠ¶æ€**: âœ… å…¨éƒ¨æˆåŠŸ

ğŸŠ **å–µä¹å•†åŸå‰ç«¯å·²ä¸Šçº¿ï¼** ğŸŠ
