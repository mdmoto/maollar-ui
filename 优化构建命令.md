# ğŸ”§ Cloudflare æ„å»ºä¼˜åŒ–æ–¹æ¡ˆ

## âš ï¸ Exit code 9 é”™è¯¯åŸå› 

é”™è¯¯ä»£ç  9 é€šå¸¸è¡¨ç¤ºï¼š
- å†…å­˜ä¸è¶³ï¼ˆOOM - Out of Memoryï¼‰
- æ„å»ºè¿›ç¨‹è¢«ç»ˆæ­¢
- Node.js å †å†…å­˜æº¢å‡º

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šé™åˆ¶å†…å­˜ä½¿ç”¨ï¼ˆæ¨èï¼‰

ä¿®æ”¹ Cloudflare æ„å»ºå‘½ä»¤ä¸ºï¼š

```bash
yarn install && NODE_OPTIONS="--max-old-space-size=2048" yarn build
```

è¿™ä¼šé™åˆ¶ Node.js æœ€å¤šä½¿ç”¨ 2GB å†…å­˜ã€‚

---

### æ–¹æ¡ˆ 2ï¼šåˆ†é˜¶æ®µæ„å»º

```bash
yarn install --frozen-lockfile && yarn build
```

ä½¿ç”¨ `--frozen-lockfile` é¿å… Yarn é‡æ–°è®¡ç®—ä¾èµ–ã€‚

---

### æ–¹æ¡ˆ 3ï¼šç¦ç”¨å¹¶è¡Œæ„å»º

åœ¨æ¯ä¸ªé¡¹ç›®çš„ `vue.config.js` ä¸­æ·»åŠ ï¼š

```javascript
module.exports = {
  parallel: false, // ç¦ç”¨å¹¶è¡Œæ„å»º
  // ... å…¶ä»–é…ç½®
}
```

ç„¶åæ„å»ºå‘½ä»¤ï¼š
```bash
yarn install && yarn build
```

---

## ğŸ“ å®Œæ•´ Cloudflare é…ç½®

### ç¯å¢ƒå˜é‡

```
NODE_VERSION = 14.16.0
NODE_OPTIONS = --max-old-space-size=2048
```

### æ„å»ºå‘½ä»¤

```
yarn install && yarn build
```

---

## ğŸ” è°ƒè¯•æ­¥éª¤

å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼ŒæŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­ï¼š

1. **å†…å­˜ä½¿ç”¨æƒ…å†µ**
   - æœç´¢ "heap out of memory"
   - æœç´¢ "JavaScript heap"

2. **å“ªä¸ªé˜¶æ®µå¤±è´¥**
   - yarn install é˜¶æ®µï¼Ÿ
   - yarn build é˜¶æ®µï¼Ÿ
   - ç¼–è¯‘å“ªä¸ªæ–‡ä»¶æ—¶å¤±è´¥ï¼Ÿ

---

## ğŸ’¡ ä¸´æ—¶è§£å†³æ–¹æ¡ˆ

å¦‚æœ Cloudflare Pages æ„å»ºä¸€ç›´å¤±è´¥ï¼Œå¯ä»¥ï¼š

### æœ¬åœ°æ„å»º + ç›´æ¥éƒ¨ç½²

1. **æœ¬åœ°æ„å»º**
   ```bash
   cd /Users/adam/maollar-project/frontend/manager
   yarn install
   yarn build
   ```

2. **ä½¿ç”¨ Wrangler ç›´æ¥éƒ¨ç½²**
   ```bash
   npx wrangler pages deploy dist --project-name=maollar-manager
   ```

è¿™æ ·å¯ä»¥ç»•è¿‡ Cloudflare çš„æ„å»ºç¯å¢ƒé™åˆ¶ã€‚

---

## ğŸ“Š å„æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|
| é™åˆ¶å†…å­˜ | ç®€å•ï¼Œé€šå¸¸æœ‰æ•ˆ | å¯èƒ½æ„å»ºå˜æ…¢ |
| ç¦ç”¨å¹¶è¡Œ | å†…å­˜å ç”¨æœ€ä½ | æ„å»ºæ—¶é—´æ›´é•¿ |
| æœ¬åœ°æ„å»º | 100% å¯æ§ | éœ€è¦æ‰‹åŠ¨æ„å»º |

---

**å»ºè®®å…ˆè¯•æ–¹æ¡ˆ 1ï¼ˆé™åˆ¶å†…å­˜ï¼‰ï¼Œå¦‚æœä¸è¡Œå°±ç”¨æœ¬åœ°æ„å»ºï¼**
